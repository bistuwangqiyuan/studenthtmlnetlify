# 学生信息管理系统 - 测试计划

## 测试环境
- 已部署的 Netlify 站点
- Neon 数据库已配置
- 环境变量已设置

## 测试步骤

### 1. 初始加载测试
- [ ] 访问站点首页，页面正常显示
- [ ] 检查页面编码，中文显示正常无乱码
- [ ] 检查浏览器控制台无错误
- [ ] 检查网络请求（F12 -> Network）

### 2. 管理员登录功能
- [ ] 使用默认账号 `admin / admin` 登录
- [ ] 检查登录成功后跳转到管理面板
- [ ] 验证顶部显示管理员用户名
- [ ] 检查 JWT token 存储在 localStorage
- [ ] 测试错误的用户名/密码，验证错误提示

### 3. 管理员注册功能
- [ ] 点击"注册"标签
- [ ] 创建新管理员账号
- [ ] 验证需要先登录才能注册（如果已有管理员）
- [ ] 测试用户名重复时的错误提示

### 4. 学生信息管理
#### 查询
- [ ] 查看学生列表，验证初始数据加载
- [ ] 使用搜索框搜索学生（学号、姓名、专业）
- [ ] 验证中文搜索正常工作

#### 新增
- [ ] 填写学生表单，点击"新增"
- [ ] 验证必填字段（学号、姓名）
- [ ] 验证学号唯一性
- [ ] 检查新增后列表自动刷新

#### 编辑
- [ ] 点击某个学生的"编辑"按钮
- [ ] 修改信息后点击"更新"
- [ ] 验证更新成功且列表刷新

#### 删除
- [ ] 点击某个学生的"删除"按钮
- [ ] 验证确认对话框
- [ ] 确认删除后验证列表更新

### 5. 课程信息管理
- [ ] 切换到"课程信息"标签
- [ ] 测试课程的查询、新增、编辑、删除功能
- [ ] 验证课程代码唯一性
- [ ] 测试学分字段为数字

### 6. 教师信息管理
- [ ] 切换到"教师信息"标签
- [ ] 测试教师的查询、新增、编辑、删除功能
- [ ] 验证教师编号唯一性
- [ ] 测试邮箱、电话格式

### 7. 会话管理
- [ ] 退出登录，验证跳转到登录页
- [ ] 刷新页面，验证登录状态保持
- [ ] 清除 localStorage，验证需要重新登录

### 8. 响应式设计
- [ ] 在手机屏幕尺寸下测试（Chrome DevTools）
- [ ] 验证表格横向滚动
- [ ] 验证按钮、表单在小屏幕下可用

### 9. 错误处理
- [ ] 测试网络断开时的错误提示
- [ ] 测试 token 过期后的处理
- [ ] 测试表单验证错误提示

## 常见问题排查

### 如果登录失败
1. 检查浏览器控制台错误
2. 检查 Network 标签中 `/api/auth/login` 请求
3. 确认环境变量 `NEON_DATABASE_URL` 和 `JWT_SECRET` 已设置
4. 确认数据库已运行初始化脚本

### 如果出现 404 错误
1. 检查 `netlify.toml` 重定向规则
2. 确认 Functions 已正确部署

### 如果中文乱码
1. 检查数据库连接字符集
2. 检查 HTML meta charset
3. 检查 API 响应 Content-Type

## 测试完成后
请将发现的任何错误、异常行为或改进建议记录下来。

